(this["webpackJsonpexternal-embed"]=this["webpackJsonpexternal-embed"]||[]).push([[0],{47:function(e,t,n){e.exports=n(92)},64:function(e,t){},92:function(e,t,n){"use strict";n.r(t);var o,a,r,i,l,c,u,s=n(0),d=n.n(s),m=n(37),p=n.n(m),b=n(6),f=n(7),g=n(9),h=n(8),v=n(97),x=n(94),y=n(98),O=n(16),j=n(4),E=n(5),w=E.a.div(o||(o=Object(j.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n  width: 100vw;\n  box-sizing: border-box;\n  text-align: center;\n  padding: 12px;\n  background-color: ",";\n"])),(function(e){return e.backgroundColor?e.backgroundColor:"#f3f4f6"})),_=E.a.div(a||(a=Object(j.a)(["\n  max-width: 28rem;\n  margin-left: auto;\n  margin-right: auto;\n"]))),S=E.a.div(r||(r=Object(j.a)(["\n  margin-bottom: 1.5rem;\n"]))),k=E.a.h2(i||(i=Object(j.a)(["\n  color: ",";\n  font-family: ",";\n  font-size: 28px;\n  line-height: 1;\n  margin-block: 0;\n  margin-bottom: 1.2rem;\n"])),(function(e){return e.textColor?e.textColor:"#000"}),(function(e){return e.fontFamily?e.fontFamily:"Open-Sans"})),F=E.a.p(l||(l=Object(j.a)(["\n  font-family: ",";\n  font-size: 14px;\n  font-weight: 400;\n  color: ",";\n"])),(function(e){return e.fontFamily?e.fontFamily:"Open-Sans"}),(function(e){return e.textColor?e.textColor:"#000"})),C=E.a.a(c||(c=Object(j.a)(["\n"]))),z=E.a.img(u||(u=Object(j.a)(["\n  position: absolute;\n  display: block;\n  right: 12px;\n  bottom: 12px;\n  max-height: 18px;\n  opacity: .3;\n  transition: all .25s ease-out;\n\n  :hover {\n    opacity: 1;\n  }\n"]))),I=function(e){Object(g.a)(n,e);var t=Object(h.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return d.a.createElement(C,{target:"_blank",href:this.props.targetUrl},d.a.createElement(z,{src:"/img/beehiiv-logo.png"}))}}]),n}(s.Component);I.defaultProps={targetUrl:"https://www.beehiiv.com"};var L,P=I,T=function(e){Object(g.a)(n,e);var t=Object(h.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return d.a.createElement(w,null,d.a.createElement(_,null,d.a.createElement(S,null,d.a.createElement(k,null,"Not found"),d.a.createElement(F,null,"Oops. We can't find what you're looking for."))),d.a.createElement(P,null))}}]),n}(s.Component),M=n(95),U=n(96),D=n(2),N=n.n(D),R=n(38),q=n.n(R),A=n(39),B=n.n(A),J=n(17),Q=n(24),W=E.a.div(L||(L=Object(j.a)(["\n  font-size: 42px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 20px;\n  color: ",";\n"])),(function(e){return e.color?e.color:"#000"})),G=function(e){Object(g.a)(n,e);var t=Object(h.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return d.a.createElement(W,{color:this.props.color},d.a.createElement(Q.Dot,null,"."),d.a.createElement(Q.Dot,null,"."),d.a.createElement(Q.Dot,null,"."))}}]),n}(s.Component);G.defaultProps={color:"#000"};var H,K,V,X,Y,Z,$,ee,te=G,ne=d.a.createElement("svg",{viewBox:"0 0 24 24",stroke:"currentColor"},d.a.createElement("path",{d:"M9.5,18.2c-0.4,0.4-1,0.4-1.4,0l-3.8-3.8C4,14,4,13.4,4.3,13s1-0.4,1.4,0l3.1,3.1l8.6-8.6c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4 L9.5,18.2z"})),oe=function(e){Object(g.a)(n,e);var t=Object(h.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return d.a.createElement("div",{className:this.props.className},ne)}}]),n}(s.Component),ae={"Content-Type":"application/json",Accept:"application/json"},re=n(31),ie=n(41),le=function(e){var t=e.name,n=e.category,o=e.action,a=e.label,r=void 0===a?window.location.href:a,i=e.value,l=void 0===i?0:i,c=e.data,u=void 0===c?{}:c;if("undefined"!==typeof window.dataLayer){var s=new Date;window.dataLayer.push({event:t,eventProps:Object(ie.a)({category:n,action:o,label:r,value:l,timestamp:s.toISOString()},u)})}},ce=E.a.form(H||(H=Object(j.a)(["\n  margin-left: auto;\n  margin-right: auto;\n  display: flex;\n"]))),ue=E.a.div(K||(K=Object(j.a)(["\n  width: 100%;\n"]))),se=E.a.label(V||(V=Object(j.a)(["\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n"]))),de=E.a.input(X||(X=Object(j.a)(["\n  -webkit-text-size-adjust: 100%;\n  tab-size: 4;\n  box-sizing: border-box;\n  border: 0 solid #e5e7eb;\n  font-family: ",";\n  margin: 0;\n  appearance: none;\n  background-color: rgba(255, 255, 255);\n  border-color: ",";\n  border-width: 2px;\n  display: block;\n  font-weight: 300;\n  font-size: 1rem;\n  line-height: 1.5rem;\n  padding-top: 0.75rem;\n  padding-bottom: 0.75rem;\n  padding-left: 1.25rem;\n  padding-right: 1.25rem;\n  color: #000;\n  width: 100%;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border-top-left-radius: 6px;\n  border-bottom-left-radius: 6px;\n\n  :focus {\n    outline: none;\n    box-shadow: none;\n  }\n"])),(function(e){return e.fontFamily?e.fontFamily:"Open-Sans"}),(function(e){return e.borderColor?e.borderColor:"rgb(61, 0, 223)"})),me=E.a.div(Y||(Y=Object(j.a)(["\n  margin-top: 0;\n"]))),pe=E.a.button(Z||(Z=Object(j.a)(["\n  white-space: pre;\n  appearance: button;\n  -webkit-text-size-adjust: 100%;\n  tab-size: 4;\n  box-sizing: border-box;\n  border: 0 solid #e5e7eb;\n  margin: 0;\n  font-family: ",";\n  background-color: ",";\n  color: ",";\n  border-color: transparent;\n  border-width: 1px;\n  cursor: pointer;\n  display: block;\n  font-weight: 500;\n  height: 100%;\n  font-size: 1rem;\n  line-height: 1.5rem;\n  min-width: 100px;\n  transition-property: background-color, border-color, color, fill, stroke,\n    opacity, box-shadow, transform, filter, backdrop-filter,\n    -webkit-backdrop-filter;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 0.2s;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-top-right-radius: 6px;\n  border-bottom-right-radius: 6px;\n  padding: 0 1rem;\n\n  :disabled {\n    opacity: 0.7;\n    cursor: default;\n  }\n"])),(function(e){return e.fontFamily?e.fontFamily:"Open-Sans"}),(function(e){return e.backgroundColor?e.backgroundColor:"rgb(61, 0, 223)"}),(function(e){return e.textColor?e.textColor:"#000"})),be=E.a.p($||($=Object(j.a)(["\n  font-family: ",";\n  color: #ef4444;\n  font-size: 12px;\n"])),(function(e){return e.fontFamily?e.fontFamily:"Open-Sans"})),fe=Object(E.a)(oe)(ee||(ee=Object(j.a)(["\n  color: ",";\n  fill: ",";\n  width: 20px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: -5px;\n"])),(function(e){return e.color?e.color:"#FFF"}),(function(e){return e.color?e.color:"#FFF"})),ge=function(e){Object(g.a)(n,e);var t=Object(h.a)(n);function n(e){var o;return Object(b.a)(this,n),(o=t.call(this,e)).handleChange=function(e){var t,n=e.target,a=n.value,r=n.name;o.updateState((t={},Object(J.a)(t,r,a),Object(J.a)(t,"error",null),t))},o.updateState=function(e){var t=Object.assign({},o.state,e);o.setState(t)},o.handleSubmit=function(e){e.preventDefault();var t,n=o.props.successRedirectUrl,a={external_embed_id:o.props.embedId,publication_id:o.props.publicationId,email:o.state.email,utm_source:o.props.utmSource,utm_medium:o.props.utmMedium,utm_campaign:o.props.utmCampaign,referrer:o.props.referrer,user_agent:o.props.userAgent};o.updateState({isSubmitting:!0}),(t=a,re.post("/api/submit",t,{headers:ae})).then((function(e){var t,a;if(o.updateState({isSubmitted:!0}),le({name:"submittedEmail",category:"conversion",action:"submittedEmail",label:"embedded form",data:{email:o.state.email,utm_source:o.props.utmSource,utm_medium:o.props.utmMedium,utm_campaign:o.props.utmCampaign}}),n&&(null===(t=window)||void 0===t||null===(a=t.parent)||void 0===a?void 0:a.location)){var r=new URL(n);r.searchParams.set("email",o.state.email),window.parent.location.href=r.href}})).catch((function(e){var t=N()(e,"response","data","message")||"Something went wrong";o.updateState({error:t})})).finally((function(){o.updateState({isSubmitting:!1})}))},o.beehiivLink=function(){var e=o.props,t=e.embedId,n=e.publicationId;return"https://beehiiv.com?utm_source=external_embed&utm_content=".concat(t,"&publication_id=").concat(n)},o.isLocked=function(){return!!o.state.isSubmitted},o.renderForm=function(){var e=o.props,t=e.inputPlaceholder,n=e.buttonText,a=e.successMessageText,r=e.config,i=o.state,l=i.isSubmitting,c=i.isSubmitted,u=i.error,s=N()(r,"button_color"),m=N()(r,"button_text_color"),p=N()(r,"body_font"),b=N()(r,"text_color"),f=N()(r,"button_font"),g=o.isLocked();return a&&c?d.a.createElement(F,{textColor:b,fontFamily:p},a):d.a.createElement(d.a.Fragment,null,d.a.createElement(ce,{onSubmit:o.handleSubmit},d.a.createElement(ue,null,d.a.createElement(se,{htmlFor:"email"},"Email"),d.a.createElement(de,{borderColor:s,fontFamily:f,autocomplete:"email",placeholder:t||"Enter your email",onChange:o.handleChange,value:o.state.email,disabled:g,type:"email",name:"email",required:!0})),d.a.createElement(me,null,d.a.createElement(pe,{backgroundColor:s,fontFamily:f,textColor:m,type:"submit",disabled:g},c?d.a.createElement(fe,{color:m}):l?d.a.createElement(te,{color:m}):n))),u&&d.a.createElement(be,{fontFamily:p},u))},o.state={isSubmitting:!1,isSubmitted:!1,email:"",error:null},o}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.header,n=e.description,o=e.config,a=e.isSlim,r=N()(o,"background_color"),i=N()(o,"text_color"),l=N()(o,"header_font"),c=N()(o,"body_font");return a?this.renderForm():d.a.createElement(w,{backgroundColor:r},d.a.createElement(_,null,d.a.createElement(S,null,d.a.createElement(k,{textColor:i,fontFamily:l},t),d.a.createElement(F,{textColor:i,fontFamily:c},n)),this.renderForm()),d.a.createElement(P,{targetUrl:this.beehiivLink()}))}}]),n}(s.Component);ge.defaultProps={isSlim:!1};var he=ge,ve=n(31),xe=function(e){Object(g.a)(n,e);var t=Object(h.a)(n);function n(e){var o;return Object(b.a)(this,n),(o=t.call(this,e)).fetchExternalEmbed=function(){var e,t=o.props.match.params.embedId;o.updateState({isLoading:!0}),(e=t,ve.get("/api/embeds/".concat(e),{headers:ae})).then((function(e){var t=N()(e,"data"),n=N()(t,"publication_id"),a=N()(t,"header"),r=N()(t,"description"),i=N()(t,"input_placeholder"),l=N()(t,"button_text"),c=N()(t,"success_message_text"),u=N()(t,"success_redirect_url"),s=N()(t,"config"),d=Object.assign({},o.state.config,s),m=o.fontsToLoad(d);o.updateState({publicationId:n,header:a,description:r,inputPlaceholder:i,buttonText:l,successMessageText:c,successRedirectUrl:u,config:d,requiredFonts:m})})).catch((function(e){var t=N()(e,"response","status"),n=N()(e,"response","data","message")||"Something went wrong";o.updateState({isNotFound:404===t,error:n})})).finally((function(){o.updateState({isLoading:!1})}))},o.updateState=function(e){var t=Object.assign({},o.state,e);o.setState(t)},o.fontsToLoad=function(e){var t=N()(e,"header_font"),n=N()(e,"body_font"),o=N()(e,"button_font"),a=[];return t&&"Open Sans"!==t&&!a.includes(t)&&a.push(t),n&&"Open Sans"!==n&&!a.includes(n)&&a.push(n),o&&"Open Sans"!==o&&!a.includes(o)&&a.push(o),a},o.state={isLoading:!1,isNotFound:!1,error:null,publicationId:null,header:null,description:null,inputPlaceholder:null,buttonText:null,successMessageText:null,successRedirectUrl:null,config:{body_font:"Poppins",button_font:"Open Sans",header_font:"Poppins",button_color:"#62FF2B",background_color:"#62ECFF",text_color:"#000",button_text_color:"#000"},requiredFonts:[]},o}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.fetchExternalEmbed()}},{key:"render",value:function(){var e,t,n=this.props,o=n.location.search,a=n.match.params.embedId,r=B.a.parse(o,{ignoreQueryPrefix:!0}),i=!!r.slim,l=null===r||void 0===r?void 0:r.utm_source,c=null===r||void 0===r?void 0:r.utm_campaign,u=null===r||void 0===r?void 0:r.utm_medium,s=null===r||void 0===r?void 0:r.referrer,m=null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t?void 0:t.userAgent,p=this.state,b=p.isLoading,f=p.isNotFound,g=p.publicationId,h=p.header,v=p.description,x=p.inputPlaceholder,y=p.buttonText,O=p.successMessageText,j=p.successRedirectUrl,E=p.config,w=p.requiredFonts;if(f)return d.a.createElement(M.a,{to:"/not-found"});if(b)return null;var _=w.map((function(e){return{font:e,weights:[400,700]}}));return d.a.createElement(d.a.Fragment,null,_.length>0&&d.a.createElement(q.a,{fonts:_}),d.a.createElement(he,{embedId:a,publicationId:g,header:h,description:v,inputPlaceholder:x,buttonText:y,successMessageText:O,successRedirectUrl:j,config:E,isSlim:i,utmSource:l,utmMedium:u,utmCampaign:c,referrer:s,userAgent:m}))}}]),n}(s.Component),ye=Object(U.a)(xe),Oe=Object(O.a)(),je=function(e){Object(g.a)(n,e);var t=Object(h.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return d.a.createElement(d.a.Fragment,null,d.a.createElement(y.a,{history:Oe},d.a.createElement(v.a,null,d.a.createElement(x.a,{exact:!0,path:"/not-found",component:T}),d.a.createElement(x.a,{exact:!0,path:"/:embedId",component:ye}),d.a.createElement(x.a,{component:T}))))}}]),n}(s.Component);p.a.render(d.a.createElement(je,null),document.getElementById("root"))}},[[47,1,2]]]);